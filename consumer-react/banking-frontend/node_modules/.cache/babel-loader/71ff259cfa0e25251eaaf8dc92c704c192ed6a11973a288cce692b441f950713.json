{"ast":null,"code":"import axios from 'axios';\n\n// Base URL for your Mule application\nconst MULE_BASE_URL = 'http://localhost:8090';\n\n// Create axios instance for Mule with timeout\nconst muleAPI = axios.create({\n  baseURL: MULE_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  timeout: 10000 // 10 second timeout\n});\n\n// Your Spring Boot services\nconst SPRING_BOOT_SERVICES = {\n  transaction: 'http://localhost:8082',\n  fraud: 'http://localhost:8083',\n  notification: 'http://localhost:8084'\n};\n\n// Add response interceptor to handle different response formats\nconst handleResponse = response => {\n  console.log('API Response:', response); // Debug logging\n  return response;\n};\nconst handleError = error => {\n  console.error('API Error:', error);\n  return Promise.reject(error);\n};\n\n// Add interceptors to all axios instances\nmuleAPI.interceptors.response.use(handleResponse, handleError);\naxios.interceptors.response.use(handleResponse, handleError);\n\n// API functions\nexport const bankingAPI = {\n  // Send payment to Mule (this triggers your entire workflow)\n  processPayment: paymentData => {\n    console.log('Sending payment to Mule:', paymentData);\n    return muleAPI.post('/payments', paymentData);\n  },\n  // Get transactions from your Spring Boot transaction service\n  getTransactions: () => {\n    return axios.get(`${SPRING_BOOT_SERVICES.transaction}/transactions`, {\n      timeout: 5000\n    });\n  },\n  // Get fraud analysis\n  getFraudCheck: transactionId => {\n    return axios.get(`${SPRING_BOOT_SERVICES.fraud}/fraud-check/${transactionId}`);\n  },\n  // Get all fraud checks (optional)\n  getAllFraudChecks: () => {\n    return axios.get(`${SPRING_BOOT_SERVICES.fraud}/fraud-checks`);\n  },\n  // Get notifications for a transaction\n  getNotifications: transactionId => {\n    return axios.get(`${SPRING_BOOT_SERVICES.notification}/notifications/${transactionId}`);\n  },\n  // Get all notifications (optional)\n  getAllNotifications: () => {\n    return axios.get(`${SPRING_BOOT_SERVICES.notification}/notifications`);\n  }\n};\nexport default bankingAPI;","map":{"version":3,"names":["axios","MULE_BASE_URL","muleAPI","create","baseURL","headers","timeout","SPRING_BOOT_SERVICES","transaction","fraud","notification","handleResponse","response","console","log","handleError","error","Promise","reject","interceptors","use","bankingAPI","processPayment","paymentData","post","getTransactions","get","getFraudCheck","transactionId","getAllFraudChecks","getNotifications","getAllNotifications"],"sources":["C:/Users/emnac.AETHER/Documents/IRM/3rd_year/Integration SI/project/banking-frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Base URL for your Mule application\r\nconst MULE_BASE_URL = 'http://localhost:8090';\r\n\r\n// Create axios instance for Mule with timeout\r\nconst muleAPI = axios.create({\r\n  baseURL: MULE_BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n  timeout: 10000, // 10 second timeout\r\n});\r\n\r\n// Your Spring Boot services\r\nconst SPRING_BOOT_SERVICES = {\r\n  transaction: 'http://localhost:8082',\r\n  fraud: 'http://localhost:8083', \r\n  notification: 'http://localhost:8084'\r\n};\r\n\r\n// Add response interceptor to handle different response formats\r\nconst handleResponse = (response) => {\r\n  console.log('API Response:', response); // Debug logging\r\n  return response;\r\n};\r\n\r\nconst handleError = (error) => {\r\n  console.error('API Error:', error);\r\n  return Promise.reject(error);\r\n};\r\n\r\n// Add interceptors to all axios instances\r\nmuleAPI.interceptors.response.use(handleResponse, handleError);\r\naxios.interceptors.response.use(handleResponse, handleError);\r\n\r\n// API functions\r\nexport const bankingAPI = {\r\n  // Send payment to Mule (this triggers your entire workflow)\r\n  processPayment: (paymentData) => {\r\n    console.log('Sending payment to Mule:', paymentData);\r\n    return muleAPI.post('/payments', paymentData);\r\n  },\r\n\r\n  // Get transactions from your Spring Boot transaction service\r\n  getTransactions: () => {\r\n    return axios.get(`${SPRING_BOOT_SERVICES.transaction}/transactions`, {\r\n      timeout: 5000\r\n    });\r\n  },\r\n\r\n  // Get fraud analysis\r\n  getFraudCheck: (transactionId) => {\r\n    return axios.get(`${SPRING_BOOT_SERVICES.fraud}/fraud-check/${transactionId}`);\r\n  },\r\n\r\n  // Get all fraud checks (optional)\r\n  getAllFraudChecks: () => {\r\n    return axios.get(`${SPRING_BOOT_SERVICES.fraud}/fraud-checks`);\r\n  },\r\n\r\n  // Get notifications for a transaction\r\n  getNotifications: (transactionId) => {\r\n    return axios.get(`${SPRING_BOOT_SERVICES.notification}/notifications/${transactionId}`);\r\n  },\r\n\r\n  // Get all notifications (optional)\r\n  getAllNotifications: () => {\r\n    return axios.get(`${SPRING_BOOT_SERVICES.notification}/notifications`);\r\n  }\r\n};\r\n\r\nexport default bankingAPI;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,aAAa,GAAG,uBAAuB;;AAE7C;AACA,MAAMC,OAAO,GAAGF,KAAK,CAACG,MAAM,CAAC;EAC3BC,OAAO,EAAEH,aAAa;EACtBI,OAAO,EAAE;IACP,cAAc,EAAE;EAClB,CAAC;EACDC,OAAO,EAAE,KAAK,CAAE;AAClB,CAAC,CAAC;;AAEF;AACA,MAAMC,oBAAoB,GAAG;EAC3BC,WAAW,EAAE,uBAAuB;EACpCC,KAAK,EAAE,uBAAuB;EAC9BC,YAAY,EAAE;AAChB,CAAC;;AAED;AACA,MAAMC,cAAc,GAAIC,QAAQ,IAAK;EACnCC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEF,QAAQ,CAAC,CAAC,CAAC;EACxC,OAAOA,QAAQ;AACjB,CAAC;AAED,MAAMG,WAAW,GAAIC,KAAK,IAAK;EAC7BH,OAAO,CAACG,KAAK,CAAC,YAAY,EAAEA,KAAK,CAAC;EAClC,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC;;AAED;AACAd,OAAO,CAACiB,YAAY,CAACP,QAAQ,CAACQ,GAAG,CAACT,cAAc,EAAEI,WAAW,CAAC;AAC9Df,KAAK,CAACmB,YAAY,CAACP,QAAQ,CAACQ,GAAG,CAACT,cAAc,EAAEI,WAAW,CAAC;;AAE5D;AACA,OAAO,MAAMM,UAAU,GAAG;EACxB;EACAC,cAAc,EAAGC,WAAW,IAAK;IAC/BV,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAES,WAAW,CAAC;IACpD,OAAOrB,OAAO,CAACsB,IAAI,CAAC,WAAW,EAAED,WAAW,CAAC;EAC/C,CAAC;EAED;EACAE,eAAe,EAAEA,CAAA,KAAM;IACrB,OAAOzB,KAAK,CAAC0B,GAAG,CAAC,GAAGnB,oBAAoB,CAACC,WAAW,eAAe,EAAE;MACnEF,OAAO,EAAE;IACX,CAAC,CAAC;EACJ,CAAC;EAED;EACAqB,aAAa,EAAGC,aAAa,IAAK;IAChC,OAAO5B,KAAK,CAAC0B,GAAG,CAAC,GAAGnB,oBAAoB,CAACE,KAAK,gBAAgBmB,aAAa,EAAE,CAAC;EAChF,CAAC;EAED;EACAC,iBAAiB,EAAEA,CAAA,KAAM;IACvB,OAAO7B,KAAK,CAAC0B,GAAG,CAAC,GAAGnB,oBAAoB,CAACE,KAAK,eAAe,CAAC;EAChE,CAAC;EAED;EACAqB,gBAAgB,EAAGF,aAAa,IAAK;IACnC,OAAO5B,KAAK,CAAC0B,GAAG,CAAC,GAAGnB,oBAAoB,CAACG,YAAY,kBAAkBkB,aAAa,EAAE,CAAC;EACzF,CAAC;EAED;EACAG,mBAAmB,EAAEA,CAAA,KAAM;IACzB,OAAO/B,KAAK,CAAC0B,GAAG,CAAC,GAAGnB,oBAAoB,CAACG,YAAY,gBAAgB,CAAC;EACxE;AACF,CAAC;AAED,eAAeW,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}